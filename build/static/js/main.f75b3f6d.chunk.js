(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[5],{143:function(e,t,n){"use strict";n.r(t);n(91);var r,c,o,a,s,i,u=n(0),l=n.n(u),b=n(23),d=n.n(b),j=n(21),O=n(14),p=n(52),g=n(3),h=n(27),f=n(78),_=n.n(f),C=n(79),m=n.n(C),v=n(4),x=n(11),F=n(6),k={name:null,email:null},S=Object(g.c)(k,(r={},Object(v.a)(r,F.a.registerSuccess,(function(e,t){return t.payload.user})),Object(v.a)(r,F.a.loginSuccess,(function(e,t){return t.payload.user})),Object(v.a)(r,F.a.logoutSuccess,(function(){return k})),Object(v.a)(r,F.a.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),T=Object(g.c)(null,(c={},Object(v.a)(c,F.a.registerSuccess,(function(e,t){return t.payload.token})),Object(v.a)(c,F.a.loginSuccess,(function(e,t){return t.payload.token})),Object(v.a)(c,F.a.logoutSuccess,(function(){return null})),c)),A=Object(g.c)(null,(o={},Object(v.a)(o,F.a.registerFailure,(function(e,t){return t.payload})),Object(v.a)(o,F.a.loginFailure,(function(e,t){return t.payload})),Object(v.a)(o,F.a.logoutFailure,(function(e,t){return t.payload})),Object(v.a)(o,F.a.getCurrentUserFailure,(function(e,t){return t.payload})),o)),R=Object(g.c)(!1,(a={},Object(v.a)(a,F.a.registerSuccess,(function(){return!0})),Object(v.a)(a,F.a.loginSuccess,(function(){return!0})),Object(v.a)(a,F.a.getCurrentUserSuccess,(function(){return!0})),Object(v.a)(a,F.a.logoutSuccess,(function(){return!1})),Object(v.a)(a,F.a.registerFailure,(function(){return!1})),Object(v.a)(a,F.a.loginFailure,(function(){return!1})),Object(v.a)(a,F.a.getCurrentUserFailure,(function(){return!1})),a)),y=Object(x.c)({user:S,token:T,error:A,isAuthenticated:R}),E=n(15),N=[],B="",U=!1,w=Object(g.c)(N,(s={},Object(v.a)(s,E.a.onFetchContactsSuccess,(function(e,t){return t.payload})),Object(v.a)(s,E.a.onAddContactSuccess,(function(e,t){t.type;var n=t.payload;return[].concat(Object(p.a)(e),[n])})),Object(v.a)(s,E.a.onDeleteContactSuccess,(function(e,t){t.type;var n=t.payload;return e.filter((function(e){return e.id!==n}))})),s)),L=Object(g.c)(U,(i={},Object(v.a)(i,E.a.onAddContactRequest,(function(){return!0})),Object(v.a)(i,E.a.onAddContactSuccess,(function(){return!1})),Object(v.a)(i,E.a.onAddContactFailure,(function(){return!1})),Object(v.a)(i,E.a.onDeleteContactRequest,(function(){return!0})),Object(v.a)(i,E.a.onDeleteContactSuccess,(function(){return!1})),Object(v.a)(i,E.a.onDeleteContactFailure,(function(){return!1})),Object(v.a)(i,E.a.onFetchContactsRequest,(function(){return!0})),Object(v.a)(i,E.a.onFetchContactsSuccess,(function(){return!1})),Object(v.a)(i,E.a.onFetchContactsFailure,(function(){return!1})),i)),D=Object(g.c)(B,Object(v.a)({},E.a.onChangeFilter,(function(e,t){t.type;return t.payload}))),P=Object(x.c)({contacts:w,filter:D,loading:L}),H={key:"react_phonebook_token",storage:_.a,whitelist:["token"]},q=Object(h.g)(H,y),I=[].concat(Object(p.a)(Object(g.d)({serializableCheck:{ignoredActions:[h.a,h.f,h.b,h.c,h.d,h.e]}})),[m.a]),z=Object(g.a)({reducer:{auth:q,contacts:P},middleware:I,devTools:!0}),G=Object(h.h)(z),M=n(80),J=n(81),W=(n(102),n(82)),Z=n.n(W),K=n(83),Q=n(2),X=function(){return Object(Q.jsx)("div",{children:Object(Q.jsx)(Z.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3,className:K.loader})})},Y=n(42),V={home:"/",login:"/login",register:"/register",contacts:"/contacts"},$={userEmailSelector:function(e){return e.auth.user.email},isAuthenticatedSelector:function(e){return e.auth.isAuthenticated}},ee=n(160),te=n(158),ne=n(85),re=n.n(ne),ce=n(86),oe=n.n(ce),ae=n(87),se=n.n(ae),ie=n(54),ue=n(67),le=n.n(ue),be=n(66),de=n.n(be),je=Object(te.a)({button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:50,fontSize:12,background:"#F4FAFF","&:hover":{background:"#7CC6FE"},"&:active":{background:"#758BFD"}}}),Oe=function(){var e=je();return Object(Q.jsxs)("div",{className:ie.auth_menu,children:[Object(Q.jsx)(j.b,{to:V.login,className:ie.app_bar_link,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",children:Object(Q.jsx)(de.a,{color:"action"})})}),Object(Q.jsx)(j.b,{to:V.register,className:ie.app_bar_link_decoration,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",color:"primary",children:Object(Q.jsx)(le.a,{color:"action"})})})]})},pe=n(60),ge=n(84),he=n.n(ge),fe=n(46),_e=Object(te.a)({button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:50,fontSize:12,background:"#F4FAFF","&:hover":{background:"#7CC6FE"},"&:active":{background:"#758BFD"}}}),Ce=function(){var e=_e(),t=Object(O.b)();return Object(Q.jsx)("div",{children:Object(Q.jsx)("div",{className:pe.user_menu,children:Object(Q.jsx)("span",{className:pe.app_bar_link,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",onClick:function(){return t(fe.a.logout())},children:Object(Q.jsx)(he.a,{color:"action"})})})})})},me=Object(te.a)({button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:50,fontSize:12,background:"#F4FAFF","&:hover":{background:"#7CC6FE"},"&:active":{background:"#758BFD"}},user_button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:300,fontSize:12,marginLeft:"auto",marginRight:"auto",background:"#F4FAFF","&:hover":{background:"#7CC6FE"},"&:active":{background:"#758BFD"}}});var ve=function(){var e=me(),t=Object(O.c)($.userEmailSelector),n=Object(O.c)($.isAuthenticatedSelector);return Object(Q.jsxs)("header",{children:[Object(Q.jsxs)("nav",{className:Y.app_bar_nav,children:[Object(Q.jsxs)("div",{className:Y.main_nav,children:[Object(Q.jsx)(j.b,{exact:!0,to:V.home,className:Y.app_bar_link_decoration,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",children:Object(Q.jsx)(re.a,{color:"action"})})}),n?Object(Q.jsx)(j.b,{to:V.contacts,className:Y.app_bar_link,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",color:"primary",children:Object(Q.jsx)(oe.a,{color:"action"})})}):null]}),n?Object(Q.jsx)(Ce,{}):Object(Q.jsx)(Oe,{})]}),n&&Object(Q.jsx)("div",{children:Object(Q.jsxs)(ee.a,{className:"".concat(e.user_button_mobile," ").concat(e.icon_margin),variant:"outlined",children:[Object(Q.jsx)(se.a,{color:"action"}),Object(Q.jsx)("span",{children:t})]})})]})},xe=n(63),Fe=n(9),ke=n(45),Se=n(53),Te=function(e){var t=e.component,n=Object(Se.a)(e,["component"]),r=Object(O.c)($.isAuthenticatedSelector);return Object(Q.jsx)(Fe.b,{render:function(){return r?Object(Q.jsx)(t,Object(ke.a)({},n)):Object(Q.jsx)(Fe.a,{to:n.redirectTo})}})},Ae=function(e){var t=e.component,n=Object(Se.a)(e,["component"]),r=Object(O.c)($.isAuthenticatedSelector);return Object(Q.jsx)(Fe.b,{render:function(){return r&&n.restricted?Object(Q.jsx)(Fe.a,{to:n.redirectTo}):Object(Q.jsx)(t,Object(ke.a)({},n))}})},Re=Object(u.lazy)((function(){return n.e(3).then(n.bind(null,183))})),ye=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,178))})),Ee=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,180))})),Ne=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,181))})),Be=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,182))})),Ue=function(){var e=Object(O.b)(),t=Object(O.c)(xe.a.isLoadingSelector);return Object(u.useEffect)((function(){e(fe.a.getCurrentUser())}),[]),Object(Q.jsxs)("div",{className:J.container,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(ve,{})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(u.Suspense,{fallback:Object(Q.jsx)(X,{}),children:Object(Q.jsxs)(Fe.d,{children:[Object(Q.jsx)(Fe.b,{exact:!0,path:V.home,component:Re}),Object(Q.jsx)(Ae,{path:V.login,component:Ee,redirectTo:"/contacts",restricted:!0}),Object(Q.jsx)(Ae,{path:V.register,component:Ne,redirectTo:"/contacts",restricted:!0}),Object(Q.jsx)(Te,{path:V.contacts,component:ye,redirectTo:"/login"}),Object(Q.jsx)(Fe.b,{component:Be})]})})}),t&&Object(Q.jsx)(X,{})]})};d.a.render(Object(Q.jsx)(O.a,{store:z,children:Object(Q.jsx)(M.a,{loading:null,persistor:G,children:Object(Q.jsx)(j.a,{children:Object(Q.jsx)(l.a.StrictMode,{children:Object(Q.jsx)(Ue,{})})})})}),document.getElementById("root"))},15:function(e,t,n){"use strict";var r=n(3),c={onFetchContactsRequest:Object(r.b)("contacts/FETCH_CONTACTS_R"),onFetchContactsSuccess:Object(r.b)("contacts/FETCH_CONTACTS_S"),onFetchContactsFailure:Object(r.b)("contacts/FETCH_CONTACTS_F"),onAddContactRequest:Object(r.b)("contacts/ADD_CONTACT_R"),onAddContactSuccess:Object(r.b)("contacts/ADD_CONTACT_S"),onAddContactFailure:Object(r.b)("contacts/ADD_CONTACT_F"),onDeleteContactRequest:Object(r.b)("contacts/DELETE_CONTACT_R"),onDeleteContactSuccess:Object(r.b)("contacts/DELETE_CONTACT_S"),onDeleteContactFailure:Object(r.b)("contacts/DELETE_CONTACT_F"),onChangeFilter:Object(r.b)("contacts/FILTER_CONTACT")};t.a=c},42:function(e,t,n){e.exports={app_bar_nav:"AppBar_app_bar_nav__U2iPq",main_nav:"AppBar_main_nav__KeBFZ",app_bar_link:"AppBar_app_bar_link__3faFw",app_bar_link_decoration:"AppBar_app_bar_link_decoration__lyFYI"}},44:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return d}));var r=n(13),c=(n(76),function(){return r.b.error("Registration Error",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),o=function(){return r.b.error("Login Error",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},a=function(){return r.b.error("Logout Error",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s=function(){return r.b.error("The name can only consist of letters, apostrophes, dashes and spaces.",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},i=function(){return r.b.error("The phone number must be 11-12 digits long and can contain numbers, spaces, dashes, pot-bellied brackets and can start with +",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},u=function(e){return r.b.warn("".concat(e," is already in contacts!"),{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},l=function(e){return r.b.error("".concat(e),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},b=function(){return r.b.error("Minimum eight characters, at least one letter and one number",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},d=function(){return r.b.error("@",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},46:function(e,t,n){"use strict";var r=n(26),c=n.n(r),o=n(43),a=n(29),s=n.n(a),i=n(6),u=n(50),l=n(44);s.a.defaults.baseURL="https://connections-api.herokuapp.com";var b=function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e)},d=function(){s.a.defaults.headers.common.Authorization=""},j={register:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.registerRequest()),t.prev=1,t.next=4,s.a.post("/users/signup",e);case 4:r=t.sent,b(r.data.token),n(i.a.registerSuccess(r.data)),Object(u.e)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(i.a.registerFailure(t.t0)),Object(l.i)();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.loginRequest()),t.prev=1,t.next=4,s.a.post("/users/login",e);case 4:r=t.sent,b(r.data.token),n(i.a.loginSuccess(r.data)),Object(u.c)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(i.a.loginFailure(t.t0)),Object(l.d)();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(i.a.logoutRequest()),e.prev=1,e.next=4,s.a.post("/users/logout");case 4:d(),t(i.a.logoutSuccess()),Object(u.d)(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(i.a.logoutFailure(e.t0)),Object(l.e)();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return b(o),t(i.a.getCurrentUserRequest()),e.prev=5,e.next=8,s.a.get("/users/current");case 8:a=e.sent,t(i.a.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(i.a.getCurrentUserFailure(e.t0));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}};t.a=j},50:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(13),c=(n(76),function(){return r.b.success("Registration Success",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),o=function(){return r.b.success("Login Success",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},a=function(){return r.b.success("Logout Success",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s=function(e){return r.b.success("".concat(e," added"),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},i=function(){return r.b.success("Contact deleted",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},54:function(e,t,n){e.exports={auth_menu:"AuthNav_auth_menu__36XCW",app_bar_link:"AuthNav_app_bar_link__3tQvn",app_bar_link_decoration:"AuthNav_app_bar_link_decoration__1h05E"}},6:function(e,t,n){"use strict";var r=n(3),c={registerRequest:Object(r.b)("auth/REGISTER_R"),registerSuccess:Object(r.b)("auth/REGISTER_S"),registerFailure:Object(r.b)("auth/REGISTER_F"),loginRequest:Object(r.b)("auth/LOGIN_R"),loginSuccess:Object(r.b)("auth/LOGIN_S"),loginFailure:Object(r.b)("auth/LOGIN_F"),logoutRequest:Object(r.b)("auth/LOGOUT_R"),logoutSuccess:Object(r.b)("auth/LOGOUT_S"),logoutFailure:Object(r.b)("auth/LOGOUT_F"),getCurrentUserRequest:Object(r.b)("auth/GET_CURRENT_USER_R"),getCurrentUserSuccess:Object(r.b)("auth/GET_CURRENT_USER_S"),getCurrentUserFailure:Object(r.b)("auth/GET_CURRENT USER_F")};t.a=c},60:function(e,t,n){e.exports={user_menu:"UserMenu_user_menu__2tDL-",app_bar_link:"UserMenu_app_bar_link__ATJk5"}},63:function(e,t,n){"use strict";var r=n(30),c=function(e){return e.contacts.contacts},o=function(e){return e.contacts.filter},a={contactsSelector:c,filterSelector:o,isLoadingSelector:function(e){return e.contacts.loading},contactsReselect:Object(r.a)(c,(function(e){return e})),filteredContactsSelector:Object(r.a)([c,o],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.number.toLowerCase().includes(n)}))}))};t.a=a},81:function(e,t,n){e.exports={container:"App_container__eSJ6i"}},83:function(e,t,n){e.exports={loader:"Loader_loader__2hZcM"}},91:function(e,t,n){}},[[143,7,8]]]);
//# sourceMappingURL=main.f75b3f6d.chunk.js.map