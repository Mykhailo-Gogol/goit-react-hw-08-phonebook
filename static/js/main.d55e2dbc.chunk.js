(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[5],{132:function(e,t,n){"use strict";n.r(t);n(81);var r,c,o,a,s,i,u=n(0),l=n.n(u),b=n(22),d=n.n(b),O=n(21),j=n(14),p=n(47),g=n(3),h=n(25),f=n(72),_=n.n(f),C=n(73),m=n.n(C),v=n(4),x=n(11),S=n(6),k={name:null,email:null},T=Object(g.c)(k,(r={},Object(v.a)(r,S.a.registerSuccess,(function(e,t){return t.payload.user})),Object(v.a)(r,S.a.loginSuccess,(function(e,t){return t.payload.user})),Object(v.a)(r,S.a.logoutSuccess,(function(){return k})),Object(v.a)(r,S.a.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),F=Object(g.c)(null,(c={},Object(v.a)(c,S.a.registerSuccess,(function(e,t){return t.payload.token})),Object(v.a)(c,S.a.loginSuccess,(function(e,t){return t.payload.token})),Object(v.a)(c,S.a.logoutSuccess,(function(){return null})),c)),R=Object(g.c)(null,(o={},Object(v.a)(o,S.a.registerFailure,(function(e,t){return t.payload})),Object(v.a)(o,S.a.loginFailure,(function(e,t){return t.payload})),Object(v.a)(o,S.a.logoutFailure,(function(e,t){return t.payload})),Object(v.a)(o,S.a.getCurrentUserFailure,(function(e,t){return t.payload})),o)),y=Object(g.c)(!1,(a={},Object(v.a)(a,S.a.registerSuccess,(function(){return!0})),Object(v.a)(a,S.a.loginSuccess,(function(){return!0})),Object(v.a)(a,S.a.getCurrentUserSuccess,(function(){return!0})),Object(v.a)(a,S.a.logoutSuccess,(function(){return!1})),Object(v.a)(a,S.a.registerFailure,(function(){return!1})),Object(v.a)(a,S.a.loginFailure,(function(){return!1})),Object(v.a)(a,S.a.getCurrentUserFailure,(function(){return!1})),a)),A=Object(x.c)({user:T,token:F,error:R,isAuthenticated:y}),E=n(15),N=[],U="",L=!1,w=Object(g.c)(N,(s={},Object(v.a)(s,E.a.onFetchContactsSuccess,(function(e,t){return t.payload})),Object(v.a)(s,E.a.onAddContactSuccess,(function(e,t){t.type;var n=t.payload;return[].concat(Object(p.a)(e),[n])})),Object(v.a)(s,E.a.onDeleteContactSuccess,(function(e,t){t.type;var n=t.payload;return e.filter((function(e){return e.id!==n}))})),s)),B=Object(g.c)(L,(i={},Object(v.a)(i,E.a.onAddContactRequest,(function(){return!0})),Object(v.a)(i,E.a.onAddContactSuccess,(function(){return!1})),Object(v.a)(i,E.a.onAddContactFailure,(function(){return!1})),Object(v.a)(i,E.a.onDeleteContactRequest,(function(){return!0})),Object(v.a)(i,E.a.onDeleteContactSuccess,(function(){return!1})),Object(v.a)(i,E.a.onDeleteContactFailure,(function(){return!1})),Object(v.a)(i,E.a.onFetchContactsRequest,(function(){return!0})),Object(v.a)(i,E.a.onFetchContactsSuccess,(function(){return!1})),Object(v.a)(i,E.a.onFetchContactsFailure,(function(){return!1})),i)),H=Object(g.c)(U,Object(v.a)({},E.a.onChangeFilter,(function(e,t){t.type;return t.payload}))),P=Object(x.c)({contacts:w,filter:H,loading:B}),D={key:"react_phonebook_token",storage:_.a,whitelist:["token"]},q=Object(h.g)(D,A),G=[].concat(Object(p.a)(Object(g.d)({serializableCheck:{ignoredActions:[h.a,h.f,h.b,h.c,h.d,h.e]}})),[m.a]),I=Object(g.a)({reducer:{auth:q,contacts:P},middleware:G,devTools:!0}),z=Object(h.h)(I),M=n(74),J=n(75),W=(n(92),n(76)),Z=n.n(W),K=n(77),Q=n(2),X=function(){return Object(Q.jsx)("div",{children:Object(Q.jsx)(Z.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3,className:K.loader})})},Y=n(37),V={home:"/",login:"/login",register:"/register",contacts:"/contacts"},$={userEmailSelector:function(e){return e.auth.user.email},isAuthenticatedSelector:function(e){return e.auth.isAuthenticated}},ee=n(147),te=n(145),ne=n(49),re=Object(te.a)({button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:105,fontSize:12}}),ce=function(){var e=re();return Object(Q.jsxs)("div",{className:ne.auth_menu,children:[Object(Q.jsx)(O.b,{to:V.login,className:ne.app_bar_link,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",children:"Login"})}),Object(Q.jsx)(O.b,{to:V.register,className:ne.app_bar_link_decoration,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",color:"primary",children:"Register"})})]})},oe=n(56),ae=n(42),se=Object(te.a)({button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:105,fontSize:12}}),ie=function(){var e=se(),t=Object(j.c)($.userEmailSelector),n=Object(j.b)();return Object(Q.jsxs)("div",{className:oe.user_menu,children:[Object(Q.jsx)("span",{className:oe.app_bar_link,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",onClick:function(){return n(ae.a.logout())},children:"Log Out"})}),Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",children:t})]})},ue=Object(te.a)({button_mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:105,fontSize:12}});var le=function(){var e=ue(),t=Object(j.c)($.isAuthenticatedSelector);return Object(Q.jsx)("header",{children:Object(Q.jsxs)("nav",{className:Y.app_bar_nav,children:[Object(Q.jsxs)("div",{className:Y.main_nav,children:[Object(Q.jsx)(O.b,{exact:!0,to:V.home,className:Y.app_bar_link_decoration,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",color:"primary",children:"Home"})}),t?Object(Q.jsx)(O.b,{to:V.contacts,className:Y.app_bar_link,children:Object(Q.jsx)(ee.a,{className:e.button_mobile,variant:"outlined",color:"primary",children:"Contacts"})}):null]}),t?Object(Q.jsx)(ie,{}):Object(Q.jsx)(ce,{})]})})},be=n(58),de=n(8),Oe=n(41),je=n(48),pe=function(e){var t=e.component,n=Object(je.a)(e,["component"]),r=Object(j.c)($.isAuthenticatedSelector);return Object(Q.jsx)(de.b,{render:function(){return r?Object(Q.jsx)(t,Object(Oe.a)({},n)):Object(Q.jsx)(de.a,{to:n.redirectTo})}})},ge=function(e){var t=e.component,n=Object(je.a)(e,["component"]),r=Object(j.c)($.isAuthenticatedSelector);return Object(Q.jsx)(de.b,{render:function(){return r&&n.restricted?Object(Q.jsx)(de.a,{to:n.redirectTo}):Object(Q.jsx)(t,Object(Oe.a)({},n))}})},he=Object(u.lazy)((function(){return n.e(3).then(n.bind(null,173))})),fe=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,168))})),_e=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,170))})),Ce=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,171))})),me=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,172))})),ve=function(){var e=Object(j.b)(),t=Object(j.c)(be.a.isLoadingSelector);return Object(u.useEffect)((function(){e(ae.a.getCurrentUser())}),[]),Object(Q.jsxs)("div",{className:J.container,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(le,{})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(u.Suspense,{fallback:Object(Q.jsx)(X,{}),children:Object(Q.jsxs)(de.d,{children:[Object(Q.jsx)(de.b,{exact:!0,path:V.home,component:he}),Object(Q.jsx)(ge,{path:V.login,component:_e,redirectTo:"/contacts",restricted:!0}),Object(Q.jsx)(ge,{path:V.register,component:Ce,redirectTo:"/contacts",restricted:!0}),Object(Q.jsx)(pe,{path:V.contacts,component:fe,redirectTo:"/login"}),Object(Q.jsx)(de.b,{component:me})]})})}),t&&Object(Q.jsx)(X,{})]})};d.a.render(Object(Q.jsx)(j.a,{store:I,children:Object(Q.jsx)(M.a,{loading:null,persistor:z,children:Object(Q.jsx)(O.a,{children:Object(Q.jsx)(l.a.StrictMode,{children:Object(Q.jsx)(ve,{})})})})}),document.getElementById("root"))},15:function(e,t,n){"use strict";var r=n(3),c={onFetchContactsRequest:Object(r.b)("contacts/FETCH_CONTACTS_R"),onFetchContactsSuccess:Object(r.b)("contacts/FETCH_CONTACTS_S"),onFetchContactsFailure:Object(r.b)("contacts/FETCH_CONTACTS_F"),onAddContactRequest:Object(r.b)("contacts/ADD_CONTACT_R"),onAddContactSuccess:Object(r.b)("contacts/ADD_CONTACT_S"),onAddContactFailure:Object(r.b)("contacts/ADD_CONTACT_F"),onDeleteContactRequest:Object(r.b)("contacts/DELETE_CONTACT_R"),onDeleteContactSuccess:Object(r.b)("contacts/DELETE_CONTACT_S"),onDeleteContactFailure:Object(r.b)("contacts/DELETE_CONTACT_F"),onChangeFilter:Object(r.b)("contacts/FILTER_CONTACT")};t.a=c},37:function(e,t,n){e.exports={app_bar_nav:"AppBar_app_bar_nav__U2iPq",main_nav:"AppBar_main_nav__KeBFZ",app_bar_link:"AppBar_app_bar_link__3faFw",app_bar_link_decoration:"AppBar_app_bar_link_decoration__lyFYI"}},40:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return d}));var r=n(13),c=(n(70),function(){return r.b.error("Registration Error",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),o=function(){return r.b.error("Login Error",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},a=function(){return r.b.error("Logout Error",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s=function(){return r.b.error("The name can only consist of letters, apostrophes, dashes and spaces.",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},i=function(){return r.b.error("The phone number must be 11-12 digits long and can contain numbers, spaces, dashes, pot-bellied brackets and can start with +",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},u=function(e){return r.b.warn("".concat(e," is already in contacts!"),{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},l=function(e){return r.b.error("".concat(e),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},b=function(){return r.b.error("Minimum eight characters, at least one letter and one number",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},d=function(){return r.b.error("@",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},42:function(e,t,n){"use strict";var r=n(24),c=n.n(r),o=n(38),a=n(26),s=n.n(a),i=n(6),u=n(45),l=n(40);s.a.defaults.baseURL="https://connections-api.herokuapp.com";var b=function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e)},d=function(){s.a.defaults.headers.common.Authorization=""},O={register:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.registerRequest()),t.prev=1,t.next=4,s.a.post("/users/signup",e);case 4:r=t.sent,b(r.data.token),n(i.a.registerSuccess(r.data)),Object(u.e)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(i.a.registerFailure(t.t0)),Object(l.i)();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.loginRequest()),t.prev=1,t.next=4,s.a.post("/users/login",e);case 4:r=t.sent,b(r.data.token),n(i.a.loginSuccess(r.data)),Object(u.c)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(i.a.loginFailure(t.t0)),Object(l.d)();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(i.a.logoutRequest()),e.prev=1,e.next=4,s.a.post("/users/logout");case 4:d(),t(i.a.logoutSuccess()),Object(u.d)(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(i.a.logoutFailure(e.t0)),Object(l.e)();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return b(o),t(i.a.getCurrentUserRequest()),e.prev=5,e.next=8,s.a.get("/users/current");case 8:a=e.sent,t(i.a.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(i.a.getCurrentUserFailure(e.t0));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}};t.a=O},45:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(13),c=(n(70),function(){return r.b.success("Registration Success",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),o=function(){return r.b.success("Login Success",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},a=function(){return r.b.success("Logout Success",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s=function(e){return r.b.success("".concat(e," added"),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},i=function(){return r.b.success("Contact deleted",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},49:function(e,t,n){e.exports={auth_menu:"AuthNav_auth_menu__36XCW",app_bar_link:"AuthNav_app_bar_link__3tQvn",app_bar_link_decoration:"AuthNav_app_bar_link_decoration__1h05E"}},56:function(e,t,n){e.exports={user_menu:"UserMenu_user_menu__2tDL-",app_bar_link:"UserMenu_app_bar_link__ATJk5"}},58:function(e,t,n){"use strict";var r=n(27),c=function(e){return e.contacts.contacts},o=function(e){return e.contacts.filter},a={contactsSelector:c,filterSelector:o,isLoadingSelector:function(e){return e.contacts.loading},contactsReselect:Object(r.a)(c,(function(e){return e})),filteredContactsSelector:Object(r.a)([c,o],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.number.toLowerCase().includes(n)}))}))};t.a=a},6:function(e,t,n){"use strict";var r=n(3),c={registerRequest:Object(r.b)("auth/REGISTER_R"),registerSuccess:Object(r.b)("auth/REGISTER_S"),registerFailure:Object(r.b)("auth/REGISTER_F"),loginRequest:Object(r.b)("auth/LOGIN_R"),loginSuccess:Object(r.b)("auth/LOGIN_S"),loginFailure:Object(r.b)("auth/LOGIN_F"),logoutRequest:Object(r.b)("auth/LOGOUT_R"),logoutSuccess:Object(r.b)("auth/LOGOUT_S"),logoutFailure:Object(r.b)("auth/LOGOUT_F"),getCurrentUserRequest:Object(r.b)("auth/GET_CURRENT_USER_R"),getCurrentUserSuccess:Object(r.b)("auth/GET_CURRENT_USER_S"),getCurrentUserFailure:Object(r.b)("auth/GET_CURRENT USER_F")};t.a=c},75:function(e,t,n){e.exports={container:"App_container__eSJ6i"}},77:function(e,t,n){e.exports={loader:"Loader_loader__2hZcM"}},81:function(e,t,n){}},[[132,7,8]]]);
//# sourceMappingURL=main.d55e2dbc.chunk.js.map